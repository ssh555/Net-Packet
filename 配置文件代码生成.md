# 输入
### 输入目录
**默认输入目录**：***%CD%\Input***，即相当于运行 ***ProjectBuilder.bat*** 的目录

**目录修改**：修改 ***.bat*** 中的 ***StructFileGenerator.exe*** 后的 **-i**

### 输入文件
**位置**：需全部位于输入目录下，**不包含**子文件夹中的输入文件

**格式**：后缀为 **.np** ，格式为 **json**

# 输出
### 输出目录
**默认输出目录**：***%CD%\Source\NetPacket\Public\Struct***，即相当于运行 ***ProjectBuilder.bat*** 的目录

**目录修改**：修改 ***.bat*** 中的 ***StructFileGenerator.exe*** 后的 **-o**

### 输出文件
**位置**：全部位于输出目录下
**文件**：***NPStruct.h*** 包含所有的头文件; 所以生成的代码文件 ***\*.hpp***

**格式**：后缀为 **.hpp** ，格式为 **C++**

# 模板
### 模板位置
**%CD%\Source\NetPakcet\Public\Config\template.np**
### 模板说明
**json中不要加入任何的注释，否则可能无法解析**

#### classname
- 将Example替换为自定义的数据类型的名字
#### mode
- `0`：表示默认，使用常规C++模板
- `1`：表示UE，使用UE C++模板
#### includes
- 如果有引用其他自定义的数据类型，需在此处添加
- 将 *name* 后面的 *example.hpp* 中的 *example* 替换为你引用的数据类型
- 如下面的 *Test* (这里的 *Test* **不是自动生成** 的，所以位于example.hpp)，自定生成的位置均为 classname.hpp
#### basedata
- 常规数据类型，即不是数组，目前支持以下数据类型

| 类型 | 说明 |
| ---- | ---- |
| **常规 C++** |
| uint8_t | unsigned char 无符号1字节 |
| int8_t | signed char 有符号1字节 |
| bool | 布尔 1字节 |
| int16_t | short 有符号2字节 |
| uint16_t | unsigned short 无符号2字节 |
| int32_t | int 有符号4字节 |
| uint32_t | unsigned int 无符号4字节 |
| int64_t | long long 有符号8字节 |
| uint64_t | unsigned long long 无符号8字节 |
| float | 单精度浮点数 4字节 |
| double | 双精度浮点数 8字节 |
| std::string | STL库字符串 |
| Test | 自定义数据类型，参考include使用，这里需替换为自定义的classname   |
| char | 字符 1字节 等效于 int8_t |
| std::byte | STL库字节 等效于 int8_t |
| **UE C++** |


#### 示例模板
```json
{
    "classname" : "Example",
    "mode" : 0,
    "includes" : [
        {"name":"example.hpp"}
    ],
    "basedata" : [
        {"type":"uint8_t", "name":"ui8" },
        {"type":"int8_t", "name":"i8" },
        {"type":"bool", "name":"b" },
        {"type":"int16_t", "name":"i16" },
        {"type":"uint16_t", "name":"ui16" },
        {"type":"int32_t", "name":"i32" },
        {"type":"uint32_t", "name":"ui32" },
        {"type":"int64_t", "name":"i64" },
        {"type":"uint64_t", "name":"ui64" },
        {"type":"float", "name":"f" },
        {"type":"double", "name":"d" },
        {"type":"std::string", "name":"str" },
        {"type":"Test", "name":"test" },
        {"type":"char", "name":"ch" },
        {"type":"std::byte", "name":"bt" }
    ],
    "arraydata" : [
        {"type":"uint8_t", "name":"ui8a", "length":5 },
        {"type":"int8_t", "name":"i8a", "length":5 },
        {"type":"bool", "name":"ba", "length":5 },
        {"type":"int16_t", "name":"i16a", "length":5 },
        {"type":"uint16_t", "name":"ui16a", "length":5 },
        {"type":"int32_t", "name":"i32a", "length":5 },
        {"type":"uint32_t", "name":"ui32a", "length":5 },
        {"type":"int64_t", "name":"i64a", "length":5 },
        {"type":"uint64_t", "name":"ui64a", "length":5 },
        {"type":"float", "name":"fa", "length":5 },
        {"type":"double", "name":"da", "length":5 },
        {"type":"std::string", "name":"stra", "length":5 },
        {"type":"Test", "name":"testa", "length":5 },
        {"type":"char", "name":"cha", "length":5 },
        {"type":"std::byte", "name":"bta", "length":5 }
    ]
}
```

# 使用
### ProjectBuilder.dat
运行 ***ProjectBuilder.dat*** 即可自定生成，生成后需将输出目录导入项目中使用(**需包含NetPacket项目，即DLL库，或者直接使用源代码**)
```bat
@REM 运行代码生成程序 -i 输入目录 -o 输出目录
bin\Debug-windows-x86_64\StructFileGenerator\StructFileGenerator.exe -i %CD%\Input -o %CD%\Source\NetPacket\Public\Struct
pause
```

### 代码使用
- 头文件包含：
``` C++
#include "NPStruct.h"
```
这个头文件包含了所有生成的数据类型
